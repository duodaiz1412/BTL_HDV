{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8000';\nconst NOTIFICATION_URL = 'http://localhost:8006';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst notificationApi = axios.create({\n  baseURL: NOTIFICATION_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Auth APIs\nexport const login = async credentials => {\n  try {\n    const response = await api.post('/auth/login', credentials);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const register = async userData => {\n  try {\n    const response = await api.post('/auth/register', userData);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\n// Movie APIs\nexport const getMovies = () => api.get('/movies');\nexport const getMovieById = id => api.get(`/movies/${id}`);\nexport const getShowtimes = movieId => api.get(`/movies/${movieId}/showtimes`);\n\n// Booking APIs\nexport const createBooking = async bookingData => {\n  try {\n    // Endpoint: POST /bookings\n    // Request body: \n    // {\n    //   \"customer_id\": \"string\",\n    //   \"movie_id\": \"string\",\n    //   \"showtime_id\": \"string\",\n    //   \"seats\": [\"string\"],\n    //   \"total_amount\": 0,\n    //   \"status\": \"pending\"\n    // }\n    const response = await api.post('/bookings', bookingData);\n    return response;\n  } catch (error) {\n    console.error('Error creating booking:', error);\n    throw error;\n  }\n};\nexport const getBookings = () => api.get('/bookings');\nexport const getBookingById = id => api.get(`/bookings/${id}`);\n\n// Payment APIs\nexport const createPayment = paymentData => api.post('/payments', paymentData);\nexport const getPayments = () => api.get('/payments');\nexport const getPaymentById = id => api.get(`/payments/${id}`);\n\n// Seat APIs\nexport const getSeats = showtimeId => api.get(`/seats/showtime/${showtimeId}`);\nexport const bookSeats = (customer_id, movie_id, showtime_id, seats, total_amount, status) => api.post('/bookings', {\n  customer_id,\n  movie_id,\n  showtime_id,\n  seats,\n  total_amount,\n  status\n});\n\n// Customer APIs\nexport const getProfile = () => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return api.get(`/customers/${customerId}`);\n};\nexport const updateProfile = data => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return api.put(`/customers/${customerId}`, data);\n};\n\n// Notification APIs\nexport const getNotifications = () => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return notificationApi.get(`/notifications/customer/${customerId}`);\n};\nexport const markNotificationAsRead = notificationId => {\n  return notificationApi.put(`/notifications/${notificationId}/status`, {\n    status: 'read'\n  });\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","NOTIFICATION_URL","api","create","baseURL","headers","notificationApi","login","credentials","response","post","error","register","userData","getMovies","get","getMovieById","id","getShowtimes","movieId","createBooking","bookingData","console","getBookings","getBookingById","createPayment","paymentData","getPayments","getPaymentById","getSeats","showtimeId","bookSeats","customer_id","movie_id","showtime_id","seats","total_amount","status","getProfile","customerId","localStorage","getItem","Error","updateProfile","data","put","getNotifications","markNotificationAsRead","notificationId"],"sources":["D:/BTL_HDV/mid-project-379283427/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8000';\nconst NOTIFICATION_URL = 'http://localhost:8006';\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nconst notificationApi = axios.create({\n  baseURL: NOTIFICATION_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Auth APIs\nexport const login = async (credentials) => {\n  try {\n    const response = await api.post('/auth/login', credentials);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const register = async (userData) => {\n  try {\n    const response = await api.post('/auth/register', userData);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\n// Movie APIs\nexport const getMovies = () => api.get('/movies');\nexport const getMovieById = (id) => api.get(`/movies/${id}`);\nexport const getShowtimes = (movieId) => api.get(`/movies/${movieId}/showtimes`);\n\n// Booking APIs\nexport const createBooking = async (bookingData) => {\n  try {\n    // Endpoint: POST /bookings\n    // Request body: \n    // {\n    //   \"customer_id\": \"string\",\n    //   \"movie_id\": \"string\",\n    //   \"showtime_id\": \"string\",\n    //   \"seats\": [\"string\"],\n    //   \"total_amount\": 0,\n    //   \"status\": \"pending\"\n    // }\n    const response = await api.post('/bookings', bookingData);\n    return response;\n  } catch (error) {\n    console.error('Error creating booking:', error);\n    throw error;\n  }\n};\n\nexport const getBookings = () => api.get('/bookings');\nexport const getBookingById = (id) => api.get(`/bookings/${id}`);\n\n// Payment APIs\nexport const createPayment = (paymentData) => api.post('/payments', paymentData);\nexport const getPayments = () => api.get('/payments');\nexport const getPaymentById = (id) => api.get(`/payments/${id}`);\n\n// Seat APIs\nexport const getSeats = (showtimeId) => api.get(`/seats/showtime/${showtimeId}`);\nexport const bookSeats = (customer_id, movie_id, showtime_id, seats, total_amount, status) => api.post('/bookings', { customer_id, movie_id, showtime_id, seats, total_amount, status });\n\n// Customer APIs\nexport const getProfile = () => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return api.get(`/customers/${customerId}`);\n};\n\nexport const updateProfile = (data) => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return api.put(`/customers/${customerId}`, data);\n};\n\n// Notification APIs\nexport const getNotifications = () => {\n  const customerId = localStorage.getItem('customer_id');\n  if (!customerId) {\n    throw new Error('Customer ID not found');\n  }\n  return notificationApi.get(`/notifications/customer/${customerId}`);\n};\n\nexport const markNotificationAsRead = (notificationId) => {\n  return notificationApi.put(`/notifications/${notificationId}/status`, { status: 'read' });\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}